<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187</title><meta name="description" content="Documentation for ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-11---creación-de-una-aplicación-express-para-gestionar-el-registro-de-funko-pops" id="práctica-11---creación-de-una-aplicación-express-para-gestionar-el-registro-de-funko-pops" style="color: inherit; text-decoration: none;">
  <h1>Práctica 11 - Creación de una aplicación Express para gestionar el registro de Funko Pops</h1>
</a>

<a href="#daniel-jorge-acosta" id="daniel-jorge-acosta" style="color: inherit; text-decoration: none;">
  <h2>Daniel Jorge Acosta</h2>
</a>

<a href="#alu0101239187ulledues" id="alu0101239187ulledues" style="color: inherit; text-decoration: none;">
  <h3><a href="mailto:alu0101239187@ull.edu.es">alu0101239187@ull.edu.es</a></h3>
</a>
<p><a href="https://github.com/alu0101239187/dsi-template/actions/workflows/node.js.yml"><img src="https://github.com/alu0101239187/dsi-template/actions/workflows/node.js.yml/badge.svg" alt="tests"></a></p>
<p><a href="https://github.com/alu0101239187/dsi-template/actions/workflows/coveralls.yml"><img src="https://github.com/alu0101239187/dsi-template/actions/workflows/coveralls.yml/badge.svg" alt="coveralls"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=alu0101239187_dsi-template"><img src="https://sonarcloud.io/api/project_badges/measure?project=alu0101239187_dsi-template&metric=alert_status" alt="Quality Gate Status"></a></p>

<a href="#índice" id="índice" style="color: inherit; text-decoration: none;">
  <h2>Índice</h2>
</a>
<ul>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187/#introducci%C3%B3n">Introducción</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187/#pr%C3%A1ctica">Práctica</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187/#ejercicio-pe-103">Ejercicio PE 103</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187/#conclusi%C3%B3n">Conclusión</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/ull-esit-inf-dsi-22-23-prct11-http-express-funko-app-alu0101239187/#bibliograf%C3%ADa">Bibliografía</a></li>
</ul>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h2>Introducción</h2>
</a>
<p>Esta práctica consiste principalmente en un cambio en la implementación de la aplicación cliente-servidor de registro de Funko Pops desarrollada en la <a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-alu0101239187.git">práctica 10</a>, conviertiendo su lado servidor en un servidor <a href="https://expressjs.com">Express</a> y sustituyendo el lado cliente por herramientas de procesado de peticiones HTTP, como ThunderClient. El proyecto sigue la siguiente estructura de directorios:</p>
<ul>
<li><strong>dist</strong>: Código JavaScript generado</li>
<li><strong>docs</strong>: Documentación del código</li>
<li><strong>src</strong>: Código fuente TypeScript<ul>
<li><strong>ejercicio-pe103</strong>: Ejercicio desarrollado durante la hora de prácticas</li>
<li><strong>practica</strong>: Archivos pertenecientes a la aplicación de registro de Funkos</li>
</ul>
</li>
<li><strong>tests</strong>: Tests del código fuente TypeScript</li>
</ul>
<p>Durante el desarrollo del sistema, se han utilizado las siguientes herramientas:</p>
<ul>
<li><strong>ESLint</strong> para la comprobación de errores</li>
<li><strong>Prettier</strong> para el formateo del código</li>
<li><strong>TypeDoc</strong> para la generación automática de documentación del código</li>
<li><strong>Mocha</strong> y <strong>Chai</strong> para el desarrollo dirigido por pruebas</li>
<li><strong>C8</strong> para la comprobación del cubrimiento del código fuente</li>
<li><strong>GitHub Actions</strong> para la integración continua del código ejecutado en <strong>Node.js</strong>, el envío de información de cubrimiento a <strong>Coveralls</strong> y la comprobación de calidad y seguridad del código fuente con <strong>Sonar Cloud</strong></li>
</ul>

<a href="#práctica" id="práctica" style="color: inherit; text-decoration: none;">
  <h2>Práctica</h2>
</a>
<p>Como se mencionó anteriormente, se ha cambiado la implementación de la aplicación de registro de Funko Pops, por lo que se tratarán únicamente los cambios que se han realizado.</p>

<a href="#cliente" id="cliente" style="color: inherit; text-decoration: none;">
  <h3>Cliente</h3>
</a>
<p>El lado cliente de la aplicación ha sido eliminado por completo, siendo sustituido por herramientas de procesado de peticiones HTTP.</p>

<a href="#servidor" id="servidor" style="color: inherit; text-decoration: none;">
  <h3>Servidor</h3>
</a>
<p>El lado servidor ha cambiado enormemente. La gestión de ficheros se ha mantenido casi idéntica, introduciendo el patrón callback para devolver los resultados de las operaciones. Se han cambiado los tipos con los que trabaja el servidor, añadiendo un tipo que representa la estructura JSON de un Funko y simplificando el tipo de respuesta, al que se le ha eliminado el tipo de operación que se está realizando. Al cambiar el servidor de los sockets ofrecidos por <code>net</code> a Express, este ahora responde a peticiones HTTP mediante el uso de los métodos propios de este y no mediante listeners. El servidor reacciona distinto dependiendo del verbo utilizado para la petición al directorio <code>\funkos</code>:</p>
<ul>
<li><em>get</em>: Mediante GET se accede a las operaciones de lectura y listado. Las consultas deben contener un usuario y si la petición incluye en la consulta un ID, se responderá con el Funko del usuario con dicho ID. En caso de que no se incluya un ID, se interpretará como una operación de listado y se responderá con todos los Funkos del usuario.</li>
<li><em>post</em>: Mediante POST se añade un nuevo Funko. El cuerpo de la petición contendrá el usuario al que añadir el Funko y los datos del Funko, ya que al utilizar POST no se envía datos mediante la URL. Para su funcionamiento, se tuvo que añadir la libería <code>body-parser</code>, ya que en caso contrario el contenido de la petición aparecía como <code>undefined</code>.</li>
<li><em>delete</em>: Mediante DELETE se elimina un Funko. El cuerpo de la petición contendrá el usuario del que eliminar el Funko y el ID del Funko, ya que al utilizar DELETE no se envía datos mediante la URL.</li>
<li><em>patch</em>: Mediante PATCH se actualiza un Funko. El cuerpo de la petición contendrá el usuario del que actualizar el Funko y los datos del Funko, ya que al utilizar PATCH no se envía datos mediante la URL.</li>
<li><em>all</em>: En caso de que la petición utilice un verbo no contemplado o intente acceder a otra ruta el servidor responderá con un código 404.</li>
</ul>
<p>Además, el servidor responderá con distintos códigos de estado en cada caso:</p>
<ul>
<li><em>404</em>: La petición es incorrecta.</li>
<li><em>400</em>: La petición no contiene los datos necesarios para realizar la operación requerida y se envía el mensaje de error.</li>
<li><em>500</em>: Ha ocurrido un error durante la ejecución de la operación requerida y se envía el mensaje de error.</li>
<li><em>200</em>: La operación requerida se ha ejecutado correctamente y se envía el resultado.</li>
</ul>

<a href="#ejercicio-pe-103" id="ejercicio-pe-103" style="color: inherit; text-decoration: none;">
  <h2>Ejercicio PE 103</h2>
</a>
<p>El ejercicio de la sesión de prácticas trata del desarrollo de un servidor Express en el que las peticiones contienen un comando que será ejecutado por este. El servidor recibe las peticiones GET al directorio <code>/execmd</code>, siendo el resto respondidas con el código de estado 404. Para el resto de peticiones se responde con distintos códigos de estado:</p>
<ul>
<li><em>400</em>: La petición no contiene el comando a ejecutar.</li>
<li><em>500</em>: Ha ocurrido un error durante la ejecución del comando y se envía el mensaje de error.</li>
<li><em>200</em>: El comando se ha ejecutado correctamente y se envía el resultado.</li>
</ul>

<a href="#conclusión" id="conclusión" style="color: inherit; text-decoration: none;">
  <h2>Conclusión</h2>
</a>
<p>En esta práctica hemos creado un servidor que atiende a peticiones HTTP, acercándonos cada vez más a programas que pueden tener aplicaciones reales y, además, hemos aprendido ha realizar estas peticiones para que nuestras aplicaciones puedan trabajar con APIs públicas.</p>

<a href="#bibliografía" id="bibliografía" style="color: inherit; text-decoration: none;">
  <h2>Bibliografía</h2>
</a>
<ul>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/prct11-http-express-funko-app/">Desarrollo de Sistemas Informáticos - Práctica 11 - Creación de una aplicación Express para gestionar el registro de Funko Pops</a></li>
<li><a href="https://ull-esit-inf-dsi-2223.github.io/nodejs-theory/">Desarrollo de Sistemas Informáticos - Node.js</a></li>
<li><a href="https://www.npmjs.com/package/request">Node.js request documentation</a></li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>22-<wbr/>23-<wbr/>prct11-<wbr/>http-<wbr/>express-<wbr/>funko-<wbr/>app-<wbr/>alu0101239187</a>
<ul>
<li class="tsd-kind-module"><a href="modules/ejercicio_pe103_server_server.html">ejercicio-<wbr/>pe103/server/server</a></li>
<li class="tsd-kind-module"><a href="modules/practica_classes_funko.html">practica/classes/funko</a></li>
<li class="tsd-kind-module"><a href="modules/practica_enums_funko_genres.html">practica/enums/funko_<wbr/>genres</a></li>
<li class="tsd-kind-module"><a href="modules/practica_enums_funko_types.html">practica/enums/funko_<wbr/>types</a></li>
<li class="tsd-kind-module"><a href="modules/practica_server_express.html">practica/server/express</a></li>
<li class="tsd-kind-module"><a href="modules/practica_server_server_operations.html">practica/server/server_<wbr/>operations</a></li>
<li class="tsd-kind-module"><a href="modules/practica_types_types.html">practica/types/types</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>